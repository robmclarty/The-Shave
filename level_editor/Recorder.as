package  {		import flash.display.Sprite;	import flash.events.MouseEvent;	import Math;	import flash.events.Event;			public class Recorder extends Sprite {				var xpos;		var ypos;		var rotate;		var hair:String;		var line:Sprite = new Sprite();				public function Recorder() {			// constructor code			 			//stage.addEventListener(MouseEvent.CLICK, returnPosition);			stage.addEventListener(MouseEvent.MOUSE_DOWN, returnPosition);			stage.addEventListener(MouseEvent.MOUSE_UP, returnDirection);			stage.addEventListener(MouseEvent.MOUSE_MOVE, drawLine);			line.graphics.lineStyle(1);			stage.addChild(line);		}				private function returnPosition(e:MouseEvent):void {						xpos = e.stageX;			ypos = e.stageY;			hair = "<hair x=\"" + String(xpos) + "\" y=\"" + String(ypos) + "\" ";			line.graphics.moveTo(xpos,ypos);		}				private function returnDirection(e:MouseEvent):void {						var xpos2 = e.stageX;			var ypos2 = e.stageY;						var op = ypos2 - ypos;			var adj = xpos2 - xpos;						rotate = Math.atan(op/adj)/(Math.PI/180);						hair += "rotation=\"" + rotate + "\"/>";						if (op == 0 && adj == 0) {				hair ="";			}			trace(hair);		}				private function drawLine(e:MouseEvent):void {			if (e.buttonDown) {							line.graphics.lineTo(e.stageX, e.stageY);			}		}	}	}